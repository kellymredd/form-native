(function(e,t){"use strict";if(window.ioForms!==t){return}e.fn.ioForms=function(t){var t=e(this),n=e(document);e(".submit-btn").on("click",function(t){t.preventDefault();var n=e("select").val();console.log("going to submit this value: "+n)});var r=function(e){e.find("input").hide();e.prepend('<a href="#" class="custom checkbox">')};var i=function(e){e.find("input").hide();e.prepend('<a href="#" class="custom radio">')};var s=function(e){var t=e,n=t.find(".checkbox"),r=t.find("input");if(n.hasClass("checkboxChecked")){n.removeClass("checkboxChecked");r.attr("checked",false)}else{n.addClass("checkboxChecked");r.attr("checked",true)}r.trigger("change")};var o=function(t){var n=t,r=n.parent(),i=r.find("input"),s=i.attr("name");e('input:radio[name="'+s+'"]').not(i).prev("a").removeClass("radioChecked");n.addClass("radioChecked");i.attr("checked","checked");i.trigger("change")};var u=function(t){var n=t.attr("class"),r,i=[],s=0,o=[],u,a="0",f=0;t.wrap(e('<div class="custom select '+n+'">'));var l={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){e=e.which?e.which:e;switch(e){case l.LEFT:case l.RIGHT:case l.UP:case l.DOWN:return true}return false},isFunctionKey:function(e){e=e.which?e.which:e;return e>=112&&e<=123}};var c=t.parent(),h=c.find("select"),p={create:function(){i=this.getNativeOptions();t.hide();c.append(e('<a class="current" href="#">Select...</a>'));c.append(e('<span class="arrow" href="#"></span>'));this.createOptions();this.clicks()},getNativeOptions:function(){return t.find("option").map(function(t){return{value:e(this).val(),label:e(this).html(),index:t}})},createOptions:function(){var t=c.find(".current").outerWidth(true),n=c.find(".arrow").outerWidth(true),s=e('<div class="list">').css({"min-width":t-n+1+"px"});i.each(function(e){s.append('<a href="'+i[e].value+'" data-index="'+i[e].index+'">'+i[e].label+"</a>")});c.append(s);r=c.find(".list")},createFilteredOptions:function(e){var t=new RegExp("^"+e,"gi");i.each(function(e){if(i[e].label.match(t)){s=1;o.push({label:i[e].label,index:i[e].index})}});if(s==1&&o.length!=0){c.find(".current").html(o[0].label)}a=e},matchFiltered:function(e){r.find(".current-choice").removeClass("current-choice");r.find("a:eq("+e+")").addClass("current-choice").focus();h.val(r.find("a:eq("+e+")").attr("href"))},clicks:function(){c.on("click",".arrow, .current",function(t){t.preventDefault();t.stopPropagation();p.close(e(".list").not(r));r.toggle()});r.on("click","a",function(t){t.preventDefault();t.stopPropagation();var n=e(this),r=c.find(".current");r.html(n.html());h.val(n.attr("href"));n.siblings().removeClass("current-choice");n.addClass("current-choice");p.close(n.parent())});e("body").on("click",function(e){if(r.css("display")!=="none")p.close(r)});c.find(".arrow, .current").on("keydown",function(t){t.stopPropagation();if(t.which===l.DOWN){e(this).trigger("click");var n=c.find(".list");var r=n.find("a.current-choice");if(r.length){n.find("a.current-choice").focus()}else{n.find("a:eq(0)").addClass("current-choice").focus()}}if(t.which===l.SPACE){var n=c.find(".list");if(n.css("display")==="none"){t.preventDefault();n.show();var r=n.find("a.current-choice");if(r.length){n.find("a.current-choice").focus()}else{n.find("a:eq(0)").addClass("current-choice").focus()}}else{var i=n.find("a.current-choice");n.parent().find(".current").html(i.html()).focus();p.close(n);h.val(i.attr("href"))}}if(t.which===l.ESC||t.which===l.ENTER){p.close(n)}});var t=[];c.on("keypress",".arrow, .current, a",function(e){var n=String.fromCharCode(e.which);t.push(n);var r=t.join("");var i=n.charAt(0)===a.charAt(0)?1:0;if(i==1&&o.length!=0){clearTimeout(u);if(f>=o.length-1){f=0;c.find(".current").html(o[f].label)}else{c.find(".current").html(o[++f].label)}}else{o=[];p.createFilteredOptions(r)}u=setTimeout(function(){t=[];o=[];f=0},650);if(s==1){if(o.length<=1){p.matchFiltered(o[0].index)}else{p.matchFiltered(o[f].index)}}});c.on("keydown","a",function(t){var n=e(this);if(t.which===l.SPACE||t.which===l.ESC){t.preventDefault();t.stopPropagation();n.trigger("click")}if(t.which===l.UP){t.preventDefault();t.stopPropagation();n.removeClass("current-choice");n.prev().addClass("current-choice").focus()}if(t.which===l.DOWN){t.preventDefault();t.stopPropagation();n.next().addClass("current-choice").focus();n.removeClass("current-choice")}if(t.which===l.TAB){return false}})},close:function(e){e.hide();c.find(".current").focus()},init:function(){p.create();return this}};return p.init()};t.find('input[type="checkbox"]').each(function(){r(e(this).parent())});t.find('input[type="radio"]').each(function(){i(e(this).parent())});t.find("select").each(function(){u(e(this))});t.find(".custom.radio").on("click",function(e){e.preventDefault()});t.find("form.custom label").on("click",function(t){t.preventDefault();var n=e(this),r=n.attr("for"),i=e("#"+r),u=i.attr("type"),a=n.find(".radio");if(u==="checkbox"){s(e(this))}else if(u==="radio"){o(a)}})}})(jQuery)